/**  XML Manager* - loads an external XML file and returns an array of stacks of video objects* */package com.sellproto.version1.datastorage {	import flash.events.EventDispatcher;	import com.baseclasses.events.CustomEvent;	import com.baseclasses.dataLoader.XMLReader;	import com.sellproto.version1.datastorage.*;	public class XMLProfileManager extends EventDispatcher 	{		private var xmlReader:XMLReader;		public var allStacks_arr:Array = new Array();		public var cue_arr:Array = new Array();		public var stacks_arr:Array = new Array();		public var actualImage_cnt:int=0;		public var myAlbums_arr:Array = new Array();		public var myPurchases_arr:Array = new Array();		public var mySettings:SettingsObject;				public function XMLProfileManager():void		{			trace("XMLProfileManager()")			super();		}			public function init(xmlFileName:String):void		{			//instantiate the reader		 	xmlReader = new XMLReader(xmlFileName);		  	xmlReader.addEventListener("dataLoaded", dataComplete);			}			private function dataComplete(e:CustomEvent)		{			var xml:XML = XML(e.evtObj.data);			var stackCnt:uint=0;			var vidCnt:uint=0;			trace("USER PROFILE XML>>>>>>>>>>: " + xml);						//seperate stacks			for each(var node1:XML in xml.users.user)			{								 mySettings = new SettingsObject(node1);			}			/*			for each(var node2:XML in xml.user.albums.album)			{				var a:AlbumObject = new AlbumObject(node2);								myAlbums_arr.push(a);			}						for each(var node3:XML in xml.user.purchases.album)			{				var a2:AlbumObject = new AlbumObject(node3);				 myPurchases_arr.push(a2);			}		 */		//	trace("*************************************** albums: " + myAlbums_arr[1]);		//	trace("*************************************** purchases: " + myPurchases_arr[1]);		//	trace("*************************************** settings: " + mySettings);					dispatchEvent(new CustomEvent("dataArrayLoaded", {xml:e.evtObj.data}));						xml=null;	    }	}}