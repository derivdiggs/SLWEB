/**  XML Manager* - loads an external XML file and returns an array of media objects* */package com.sellproto.version1.datastorage {	import flash.events.EventDispatcher;	import com.baseclasses.events.CustomEvent;	import com.baseclasses.dataLoader.XMLReader;	import com.sellproto.version1.datastorage.*;	public class XMLQueryManager extends EventDispatcher 	{		private var xmlReader:XMLReader;		private var _type:String;		public var stageAlbum:AlbumObject;				public function XMLQueryManager():void		{			super();		}			public function init(type:String, xmlFileName:String):void		{			//instantiate the reader			trace("XMLQuery init() - xmlFileName: " + xmlFileName);			_type = type;		 	xmlReader = new XMLReader(xmlFileName);		  	xmlReader.addEventListener("dataLoaded", dataComplete);			  	trace("XMLQuery init() end");		}				/*		*** passes an xml node from MySQL query into an array of objects		*/					private function dataComplete(e:CustomEvent)		{			trace("XMLQUERY dataComplete()");			var xml:XML = XML(e.evtObj.data);			trace("XMLQUERY dataComplete() xml object made");			trace("XMLQUERY XML>>>>>>>>>>: " + xml);			stageAlbum = new AlbumObject();			for each(var node:XML in xml.album)			{				trace("LOOPED")				stageAlbum.addNode(node)			}			trace("XMLQuery data added to dataobject");			dispatchEvent(new CustomEvent("dataArrayLoaded", {type:_type}));			//dispatchEvent(new CustomEvent("dataArrayLoaded", {xml:e.evtObj.data}));			//xmlReader.removeEventListener("dataLoaded", dataComplete);			xml=null;				    }	}}